{
  "angle_to_contacts_deg": 90,
  "code": "LN",
  "description": "LivaNova helical coil cuff electrode with 2 mm or 3 mm resting inner diameter automatically chosen based on nerve diameter, 100 um thickness between cuff and nerve + 250 um encapsulation tissue, bipolar, the cuffs are contained in the same fill domains, used clinically for epilepsy",
  "expandable": true,
  "fixed_point": "center",
  "instances": [
    {
      "def": {
        "Center": "(z_nerve/2)",
        "L": "2*L_cuff_LN_PD+w_cuff_LN+2*thk_medium_gap2_LN+2*thk_medium_gap3_LN+sep_elec_LN",
        "Radius": "r_nerve+thk_medium_gap1_LN+2*thk_medium_gap2_LN+thk_cuff_LN+thk_medium_gap3_LN",
        "Thk": "NaN",
        "x_shift": "0",
        "y_shift": "0"
      },
      "label": "LivaNova Cuff Fill 3: outer encap",
      "materials": [
        {
          "info": "fill",
          "label_index": 0
        }
      ],
      "type": "CuffFill_Primitive"
    },
    {
      "def": {
        "Center": "(z_nerve/2)",
        "L": "2*L_cuff_LN_PD+w_cuff_LN+2*thk_medium_gap2_LN+sep_elec_LN",
        "Radius": "r_nerve+thk_medium_gap1_LN+2*thk_medium_gap2_LN+thk_cuff_LN",
        "Thk": "NaN",
        "x_shift": "0",
        "y_shift": "0"
      },
      "label": "LivaNova Cuff Fill 2: saline",
      "materials": [
        {
          "info": "fill",
          "label_index": 0
        }
      ],
      "type": "CuffFill_Primitive"
    },
    {
      "def": {
        "Center": "(z_nerve/2)",
        "L": "2*L_cuff_LN_PD+w_cuff_LN+sep_elec_LN",
        "Radius": "r_nerve+thk_medium_gap1_LN",
        "Thk": "NaN",
        "x_shift": "0",
        "y_shift": "0"
      },
      "label": "LivaNova Cuff Fill 1: inner encap",
      "materials": [
        {
          "info": "fill",
          "label_index": 0
        }
      ],
      "type": "CuffFill_Primitive"
    },
    {
      "def": {
        "Center": "(z_nerve/2)-(sep_elec_LN/2)",
        "L_cuff": "L_cuff_LN_PD",
        "R_in": "r_cuff_in_LN",
        "Recess": "recess_LN",
        "Rev_cond": "rev_PD_cond_LN",
        "Rev_insul": "rev_PD_insul_LN",
        "Thk_cuff": "thk_cuff_LN",
        "Thk_elec": "thk_elec_LN",
        "W_cuff": "w_cuff_LN",
        "W_elec": "w_elec_LN"
      },
      "label": "LivaNova Cuff 1",
      "materials": [
        {
          "info": "insulator",
          "label_index": 12
        },
        {
          "info": "conductor",
          "label_index": 9
        },
        {
          "info": "recess",
          "label_index": 3
        }
      ],
      "type": "LivaNova_Primitive"
    },
    {
      "def": {
        "Center": "(z_nerve/2)+(sep_elec_LN/2)",
        "L_cuff": "L_cuff_LN_PD",
        "R_in": "r_cuff_in_LN",
        "Recess": "recess_LN",
        "Rev_cond": "rev_PD_cond_LN",
        "Rev_insul": "rev_PD_insul_LN",
        "Thk_cuff": "thk_cuff_LN",
        "Thk_elec": "thk_elec_LN",
        "W_cuff": "w_cuff_LN",
        "W_elec": "w_elec_LN"
      },
      "label": "LivaNova Cuff 2",
      "materials": [
        {
          "info": "insulator",
          "label_index": 12
        },
        {
          "info": "conductor",
          "label_index": 9
        },
        {
          "info": "recess",
          "label_index": 3
        }
      ],
      "type": "LivaNova_Primitive"
    }
  ],
  "offset": {},
  "params": [
    {
      "description": "revolution of the insulation before deformation (i.e., at rest as manufactured)",
      "expression": "2.5",
      "name": "rev_BD_insul_LN"
    },
    {
      "adaptive": true,
      "condition": [
        {
          "max": {
            "inclusive": false,
            "value": "1.5 [mm]"
          },
          "min": {
            "inclusive": true,
            "value": null
          },
          "parameter": "0.99 [mm]"
        },
        {
          "max": {
            "inclusive": true,
            "value": null
          },
          "min": {
            "inclusive": true,
            "value": "1.5 [mm]"
          },
          "parameter": "1.5 [mm]"
        }
      ],
      "description": "cuff radius before deformation (i.e., at rest as manufactured)",
      "expression": "(1.5*(r_nerve+thk_medium_gap_internal_LN>(ID_30230_LN/2))+0.99*(r_nerve+thk_medium_gap_internal_LN<=(ID_30230_LN/2))) [mm]",
      "name": "r_cuff_in_pre_LN"
    },
    {
      "description": "",
      "expression": "1.98 [mm]",
      "name": "ID_30220_LN"
    },
    {
      "description": "",
      "expression": "3 [mm]",
      "name": "ID_30230_LN"
    },
    {
      "description": "cuff radius after deformation to accommodate nerve and fill domains",
      "expression": "max(r_nerve+thk_medium_gap_internal_LN,r_cuff_in_pre_LN)",
      "name": "r_cuff_in_LN"
    },
    {
      "description": "arc length of the insulation",
      "expression": "rev_BD_insul_LN*sqrt((helix_pitch_LN)^2+(2*pi*r_cuff_in_pre_LN)^2)",
      "name": "insul_arc_length_LN"
    },
    {
      "description": "distance between consecutive turns of the insulation (center-to-center or edge-to-edge)",
      "expression": "1.7145 [mm]",
      "name": "helix_pitch_LN"
    },
    {
      "description": "adaptive, radial thickness of the cuff",
      "expression": "(0.673*(r_cuff_in_LN>(ID_30230_LN/2))+0.610*(r_cuff_in_LN<=(ID_30230_LN/2))) [mm]",
      "name": "thk_cuff_LN"
    },
    {
      "description": "revolution of the insulation after deformation (i.e., after deformation to accommodate nerve and fill domains)",
      "expression": "insul_arc_length_LN/(sqrt((helix_pitch_LN)^2+(2*pi*(r_cuff_in_LN))^2))",
      "name": "rev_PD_insul_LN"
    },
    {
      "description": "length of the insulation before deformation (i.e., at rest as manufactured)",
      "expression": "helix_pitch_LN*rev_BD_insul_LN",
      "name": "L_cuff_LN_BD"
    },
    {
      "description": "length of the insulation after deformation (i.e., after deformation to accommodate nerve and fill domains)",
      "expression": "helix_pitch_LN*rev_PD_insul_LN",
      "name": "L_cuff_LN_PD"
    },
    {
      "description": "width of the cuff cross-section (rectangle if you were to cuff it, this is along the length of the nerve)",
      "expression": "1.41 [mm]",
      "name": "w_cuff_LN"
    },
    {
      "description": "electrode thickness (radial direction), note that conductor = contact",
      "expression": "0.05 [mm]",
      "name": "thk_elec_LN"
    },
    {
      "description": "revolutions of the conductor after deformation (i.e., after deformation to accommodate nerve and fill domains), note that conductor = contact",
      "expression": "cond_arc_length_LN/(sqrt((helix_pitch_LN)^2+(2*pi*(r_cuff_in_LN+recess_LN))^2))",
      "name": "rev_PD_cond_LN"
    },
    {
      "description": "revolution of the conductor before deformation (i.e., at rest as manufactured), note that conductor = contact",
      "expression": "(346.5/360)*(r_cuff_in_LN>(ID_30230_LN/2))+(338.5/360)*(r_cuff_in_LN<=(ID_30230_LN/2))",
      "name": "rev_BD_cond_LN"
    },
    {
      "description": "conductor arc length before deformation (i.e., at rest as manufactured), note that conductor = contact",
      "expression": "(rev_BD_cond_LN)*sqrt((helix_pitch_LN)^2+(2*pi*(r_cuff_in_pre_LN+recess_LN))^2)",
      "name": "cond_arc_length_LN"
    },
    {
      "description": "amount that contact is recessed into the cuff",
      "expression": "0 [mm]",
      "name": "recess_LN"
    },
    {
      "description": "electrode width (along direction of nerve), note that conductor = contact",
      "expression": "0.775 [mm]",
      "name": "w_elec_LN"
    },
    {
      "description": "rotation correction for the cuff from deformation",
      "expression": "(90-1*(360*((rev_PD_insul_LN/2)-(rev_PD_cond_LN/2) + ((rev_PD_insul_LN/2)+(rev_PD_cond_LN/2)-(rev_PD_insul_LN/2)+(rev_PD_cond_LN/2))/2))) [deg]",
      "name": "corr_LN"
    },
    {
      "description": "thk_medium_gap3_LN+thk_medium_gap2_LN, thickness of the medium gap of fill between the cuff and the nerve",
      "expression": "350 [um]",
      "name": "thk_medium_gap_internal_LN"
    },
    {
      "description": "thickness of the fill between the cuff and the nerve",
      "expression": "100 [um]",
      "name": "Thk_fill_LN"
    },
    {
      "description": "center-to-center separation between electrodes",
      "expression": "8 [mm]",
      "name": "sep_elec_LN"
    },
    {
      "description": "encap",
      "expression": "250 [um]",
      "name": "thk_medium_gap1_LN"
    },
    {
      "description": "saline",
      "expression": "100 [um]",
      "name": "thk_medium_gap2_LN"
    },
    {
      "description": "encap",
      "expression": "250 [um]",
      "name": "thk_medium_gap3_LN"
    }
  ]
}
